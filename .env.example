# ============================================================================
# iWatcher Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git (it contains sensitive credentials)

# ============================================================================
# REQUIRED: API Keys for Workflow Execution
# ============================================================================
# These are injected into the n8n container and used by the workflow

# AssemblyAI API Key (for audio transcription with speaker diarization)
# Get yours at: https://www.assemblyai.com/
# Cost: ~$0.37/hour of audio
ASSEMBLYAI_API_KEY=your_assemblyai_api_key_here

# OpenAI API Key (for GPT-5 AI summaries)
# Get yours at: https://platform.openai.com/api-keys
# Cost: ~$0.05-0.10 per transcript
OPENAI_API_KEY=your_openai_api_key_here

# Notion API Token (for database storage)
# Get yours at: https://www.notion.so/my-integrations
# 1. Create integration
# 2. Copy "Internal Integration Token" (starts with ntn_)
# 3. Share your database with the integration
# Cost: Free
NOTION_API_TOKEN=your_notion_api_token_here

# Notion Database ID (from your Notion database URL)
# Format: https://notion.so/YOUR_WORKSPACE/DATABASE_ID?v=...
# Copy the 32-character ID between workspace name and ?v=
NOTION_DATABASE_ID=your_notion_database_id_here

# ============================================================================
# REQUIRED: n8n Configuration (for local development & AWS)
# ============================================================================

# n8n API URL (where your n8n instance is running)
# Local: http://localhost:5678
# AWS (before HTTPS): http://XX.XX.XX.XX
# AWS (after HTTPS): https://n8n.yourdomain.com
N8N_URL=http://localhost:5678

# n8n API Key (for workflow import and testing scripts)
# Get from n8n UI: Settings → API → Create API Key
# This is needed for setup.py and test-complete-pipeline.py
N8N_API_KEY=your_n8n_api_key_here

# n8n Encryption Key (for encrypting credentials in database)
# Use any random string (32+ characters recommended)
# Keep this consistent across restarts or credentials will be lost!
N8N_ENCRYPTION_KEY=iwatcher-n8n-secret-key-2025-change-this

# n8n Webhook URL (how n8n identifies itself for webhooks)
# Local: http://localhost:5678
# AWS (with SSM tunnel): http://localhost:8888
# AWS (production with HTTPS): https://n8n.yourdomain.com
WEBHOOK_URL=http://localhost:5678

# ============================================================================
# OPTIONAL: Google Drive Folder IDs
# ============================================================================
# These can be configured in the n8n workflow UI instead
# Get folder IDs from the URL when viewing each folder in Google Drive
# Format: https://drive.google.com/drive/folders/FOLDER_ID_HERE

# Folder where new audio files are uploaded (workflow monitors this)
GOOGLE_DRIVE_NEW_FOLDER_ID=your_new_folder_id

# Folder where successfully processed files are moved
GOOGLE_DRIVE_COMPLETED_FOLDER_ID=your_completed_folder_id

# Folder where failed files are moved
GOOGLE_DRIVE_FAILED_FOLDER_ID=your_failed_folder_id

# ============================================================================
# OPTIONAL: AWS Deployment Configuration
# ============================================================================
# These are only needed if deploying to AWS with CDK

# Phone number for SMS notifications (SNS alerts)
# Format: +1234567890 (include country code)
# Used for workflow execution alerts
NOTIFICATION_PHONE_NUMBER=+1234567890

# AWS Account ID (optional - CDK can detect from aws configure)
# Format: 123456789012
CDK_DEFAULT_ACCOUNT=your_aws_account_id

# AWS Region (optional - defaults to us-west-2)
# Options: us-east-1, us-west-2, eu-west-1, etc.
CDK_DEFAULT_REGION=us-west-2

# ============================================================================
# NOTES
# ============================================================================
#
# Minimum Required for Local Testing:
#   - ASSEMBLYAI_API_KEY
#   - OPENAI_API_KEY
#   - NOTION_API_TOKEN
#   - NOTION_DATABASE_ID
#   - N8N_API_KEY (after starting n8n)
#
# Additional Required for AWS Deployment:
#   - N8N_ENCRYPTION_KEY (set in Docker container)
#   - WEBHOOK_URL (set based on deployment stage)
#   - NOTIFICATION_PHONE_NUMBER (for SNS alerts)
#
# Google Drive OAuth:
#   - Cannot be set via environment variables
#   - Must be configured manually in n8n UI
#   - See docs/CREDENTIALS-SETUP.md for instructions
#
# Security:
#   - Never commit .env file to git
#   - Use AWS Secrets Manager for production deployments
#   - Rotate API keys periodically
#   - Use different keys for dev/staging/prod environments
#
